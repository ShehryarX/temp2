import * as React from 'react';
import {Marker} from 'react-map-gl';

// const ICON = `M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3
//   c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9
//   C20.1,15.8,20.2,15.8,20.2,15.7z`;

// const ICON = 'm17.14238,69c0,0 -1.41882,13.21484 2,31c5.67889,29.54236 20.39035,63.22134 33,97c12.4043,33.22852 19.17148,48.92871 27,68c4.0899,9.96356 6.30804,18.72549 10,25c1.43439,2.43774 2,4 3,4c0,0 0,1 0,1c0,-1 -0.1575,-2.03409 1,-7c3.52402,-15.1189 8.12949,-31.96979 16,-66c5.08371,-21.9808 12.27631,-49.94736 19,-86c5.2146,-27.96082 10.32663,-49.94992 14,-75c2.19559,-14.97263 3.69446,-27.08264 6,-35c0.88412,-3.03616 1,-5 1,-6c0,0 0,0 0,0c0,1 0,1 0,1c0,0 0,0 -1,0c0,0 0,0 0,0c-1,0 -1,0 -1,0c-1,0 -2,0 -5,0c-2,0 -5,0 -12,0c-7,0 -12.84927,-1.38817 -15,-2c-10.62384,-3.02222 -14.07095,-0.64293 -25,-3c-8.06088,-1.73848 -13.02206,-2.83705 -21,-4c-6.01913,-0.87743 -13.01691,-2.9034 -19,-4c-5.01547,-0.91925 -10,-3 -14,-4c-4,-1 -6.07611,-0.61731 -7,-1c-1.30655,-0.5412 -2,-1 -3,-1c-2,0 -4,0 -6,0c-2,0 -3,0 -5,0c-1,0 -2,0 -4,0c-2,0 -3.15224,0.76537 -5,0c-1.30656,-0.5412 -2,-1 -4,-1c-1,0 -1,0 -2,-1c0,0 0,1 0,1c0,0 -0.32036,1.02582 0,3c0.50655,3.12144 2,7 3,12c1,5 2.09544,9.97734 3,14c1.11867,4.97479 2.5695,9.133 4,13c1.55161,4.19435 2.77023,9.02675 3,10c1.0275,4.35251 1.78986,7.07843 3,10c0.85571,2.06586 1.49347,3.87856 2,7c0.32037,1.97418 -0.32037,4.02582 0,6c0.50653,3.12144 1.49347,4.87856 2,8c0.48056,2.96126 0.49347,5.87857 1,9c0.48056,2.96127 0.48627,5.82376 1,8c0.4595,1.9465 0,3 0,4l0,1l0,0l1,0';
//SVG ATTRIBUTION: COLLECTION: Font Awesome Solid Icons LICENSE: CC Attribution License AUTHOR: FortAwesome
const ICON = 'M480 288c0-80.25-49.28-148.92-119.19-177.62L320 192V80a16 16 0 0 0-16-16h-96a16 16 0 0 0-16 16v112l-40.81-81.62C81.28 139.08 32 207.75 32 288v64h448zm16 96H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h480a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z';
const SIZE = 20;

// Important for perf: the markers never change, avoid rerender when the map viewport changes
function Pins(props) {
  const {data, onClick} = props;

  return data.map((city, index) => (
    <Marker key={`marker-${index}`} longitude={city.longitude} latitude={city.latitude}>
      <svg
        height={SIZE}
        viewBox="0 0 594.091 594.091"
        style={{
          cursor: 'pointer',
          fill: `${city.color}`,
          stroke: 'none',
          transform: `translate(${-SIZE / 2}px,${-SIZE}px)`
        }}
        onClick={() => onClick(city)}
      >
        <path d={ICON} />
      </svg>
    </Marker>
  ));
}

export default React.memo(Pins);
